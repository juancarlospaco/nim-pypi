/* Generated by Nim Compiler v1.3.5 */
/*   (c) 2020 Andreas Rumpf */
/* The generated code is subject to the original license. */
#define NIM_INTBITS 64

/* section: NIM_merge_HEADERS */

#include "nimbase.h"
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix

/* section: NIM_merge_FRAME_DEFINES */
#define nimfr_(x, y)
#define nimln_(x, y)

/* section: NIM_merge_FORWARD_TYPES */
typedef struct tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct tySequence__AjV3cEUgs0Y9c7dCt9aItdIA tySequence__AjV3cEUgs0Y9c7dCt9aItdIA;
typedef struct tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg;
typedef struct tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ;
typedef struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ tySequence__sM4lkSb7zS6F7OVMvW9cffQ;
typedef struct tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g;
typedef struct tyObject_BaseLexer__MAw8rJZtJ279bVV3TWMtXSg tyObject_BaseLexer__MAw8rJZtJ279bVV3TWMtXSg;
typedef struct RootObj RootObj;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct tySequence__xv3aaFd3JCw8NbmALHiezQ tySequence__xv3aaFd3JCw8NbmALHiezQ;
typedef struct tyTuple__UV3llMMYFckfui8YMBuUZA tyTuple__UV3llMMYFckfui8YMBuUZA;
typedef struct tyObject_XmlError__XL8Y9cNRYITtmf9aQI19aEeDQ tyObject_XmlError__XL8Y9cNRYITtmf9aQI19aEeDQ;
typedef struct tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw;
typedef struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA;
typedef struct Exception Exception;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA tySequence__uB9b75OUPRENsBAu4AnoePA;
typedef struct tyObject_StringStreamObj__Olau5FPRehZBBEB77FHnfw tyObject_StringStreamObj__Olau5FPRehZBBEB77FHnfw;
typedef struct tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA;
typedef struct tyTuple__sPaDkVPSC0MkcoXCxPH9ccA tyTuple__sPaDkVPSC0MkcoXCxPH9ccA;
typedef struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA;

/* section: NIM_merge_TYPES */
struct TGenericSeq {
NI len;
NI reserved;
};
struct NimStringDesc {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
typedef NU8 tyEnum_XmlNodeKind__L9a59cbX9cQkF2r36q7xUnCbg;
struct tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ {
tyEnum_XmlNodeKind__L9a59cbX9cQkF2r36q7xUnCbg k;
union{
struct {NimStringDesc* fText;
} _k_1;
struct {NimStringDesc* fTag;
tySequence__AjV3cEUgs0Y9c7dCt9aItdIA* s;
tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg* fAttr;
} _k_2;
};
NI fClientData;
};
typedef NU8 tyEnum_TNimKind__jIBKr1ejBgsfM33Kxw4j7A;
typedef NU8 tySet_tyEnum_TNimTypeFlag__v8QUszD1sWlSIWZz7mC4bQ;
typedef N_NIMCALL_PTR(void, tyProc__ojoeKfW4VYIm36I9cpDTQIg) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, tyProc__WSm2xU5ARYv9aAR4l0z9c9auQ) (void* p);
struct TNimType {
NI size;
NI align;
tyEnum_TNimKind__jIBKr1ejBgsfM33Kxw4j7A kind;
tySet_tyEnum_TNimTypeFlag__v8QUszD1sWlSIWZz7mC4bQ flags;
TNimType* base;
TNimNode* node;
void* finalizer;
tyProc__ojoeKfW4VYIm36I9cpDTQIg marker;
tyProc__WSm2xU5ARYv9aAR4l0z9c9auQ deepcopy;
};
struct RootObj {
TNimType* m_type;
};
typedef NU8 tySet_tyChar__nmiMWKVIe46vacnhAFrQvw[32];
struct tyObject_BaseLexer__MAw8rJZtJ279bVV3TWMtXSg {
  RootObj Sup;
NI bufpos;
NimStringDesc* buf;
tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* input;
NI lineNumber;
NI sentinel;
NI lineStart;
NI offsetBase;
tySet_tyChar__nmiMWKVIe46vacnhAFrQvw refillChars;
};
typedef NU8 tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ;
typedef NU8 tyEnum_XmlErrorKind__F9abdZJggjbagkcCFgqbI9bw;
typedef NU8 tyEnum_ParserState__W9a0n9bkhFkprfWuBVM2z9bBg;
typedef NU8 tySet_tyEnum_XmlParseOption__VCopfBMD18d0QUQlFvdMUQ;
struct tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g {
  tyObject_BaseLexer__MAw8rJZtJ279bVV3TWMtXSg Sup;
NimStringDesc* a;
NimStringDesc* b;
NimStringDesc* c;
tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ kind;
tyEnum_XmlErrorKind__F9abdZJggjbagkcCFgqbI9bw err;
tyEnum_ParserState__W9a0n9bkhFkprfWuBVM2z9bBg state;
NIM_BOOL cIsEmpty;
NimStringDesc* filename;
tySet_tyEnum_XmlParseOption__VCopfBMD18d0QUQlFvdMUQ options;
};
typedef NU8 tyEnum_TNimNodeKind__unfNsxrcATrufDZmpBq4HQ;
struct TNimNode {
tyEnum_TNimNodeKind__unfNsxrcATrufDZmpBq4HQ kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef NU8 tyEnum_StringTableMode__G9c4wVDFIzf0xHmQvxso9a9cQ;
struct tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg {
  RootObj Sup;
NI counter;
tySequence__xv3aaFd3JCw8NbmALHiezQ* data;
tyEnum_StringTableMode__G9c4wVDFIzf0xHmQvxso9a9cQ mode;
};
struct tyTuple__UV3llMMYFckfui8YMBuUZA {
NimStringDesc* Field0;
NimStringDesc* Field1;
};
typedef tyTuple__UV3llMMYFckfui8YMBuUZA tyArray__9cQD2Rag5wSTKjlY7q5DZNg[1];
struct Exception {
  RootObj Sup;
Exception* parent;
NCSTRING name;
NimStringDesc* message;
tySequence__uB9b75OUPRENsBAu4AnoePA* trace;
Exception* up;
};
struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA {
  Exception Sup;
};
struct tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw {
  tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA Sup;
};
struct tyObject_XmlError__XL8Y9cNRYITtmf9aQI19aEeDQ {
  tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw Sup;
tySequence__sM4lkSb7zS6F7OVMvW9cffQ* errors;
};
typedef N_NIMCALL_PTR(void, tyProc__JQrsH08b4uPTH9cyFPlVOZg) (tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* s);
typedef N_NIMCALL_PTR(NIM_BOOL, tyProc__9bmhFrLahRsL2hltfRDVtlQ) (tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* s);
typedef N_NIMCALL_PTR(void, tyProc__3svSoGIUJIsHkaBL7q4DAQ) (tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* s, NI pos);
typedef N_NIMCALL_PTR(NI, tyProc__xflqkf2D1uVClg70czEDHA) (tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* s);
typedef N_NIMCALL_PTR(NI, tyProc__c9c0f59ak4YGQ6neEym8LPKw) (tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* s, NimStringDesc** buffer, tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA slice);
typedef N_NIMCALL_PTR(NIM_BOOL, tyProc__7jFfqMk9ajToCz6Hv9atCA4A) (tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* s, NimStringDesc** line);
typedef N_NIMCALL_PTR(NI, tyProc__2VVzVL9bOnKhj1eZKkf9cEuA) (tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* s, void* buffer, NI bufLen);
typedef N_NIMCALL_PTR(void, tyProc__ki6p1QyfOkJLQJ9aw5NI0AQ) (tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* s, void* buffer, NI bufLen);
struct tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ {
  RootObj Sup;
tyProc__JQrsH08b4uPTH9cyFPlVOZg closeImpl;
tyProc__9bmhFrLahRsL2hltfRDVtlQ atEndImpl;
tyProc__3svSoGIUJIsHkaBL7q4DAQ setPositionImpl;
tyProc__xflqkf2D1uVClg70czEDHA getPositionImpl;
tyProc__c9c0f59ak4YGQ6neEym8LPKw readDataStrImpl;
tyProc__7jFfqMk9ajToCz6Hv9atCA4A readLineImpl;
tyProc__2VVzVL9bOnKhj1eZKkf9cEuA readDataImpl;
tyProc__2VVzVL9bOnKhj1eZKkf9cEuA peekDataImpl;
tyProc__ki6p1QyfOkJLQJ9aw5NI0AQ writeDataImpl;
tyProc__JQrsH08b4uPTH9cyFPlVOZg flushImpl;
};
struct tyObject_StringStreamObj__Olau5FPRehZBBEB77FHnfw {
  tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ Sup;
NimStringDesc* data;
NI pos;
};
struct tyTuple__sPaDkVPSC0MkcoXCxPH9ccA {
NimStringDesc* Field0;
NimStringDesc* Field1;
NIM_BOOL Field2;
};
struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA {
NCSTRING procname;
NI line;
NCSTRING filename;
};
struct tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA {
NI a;
NI b;
};

/* section: NIM_merge_SEQ_TYPES */
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct tySequence__AjV3cEUgs0Y9c7dCt9aItdIA {
  TGenericSeq Sup;
  tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* data[SEQ_DECL_SIZE];
};
struct tySequence__xv3aaFd3JCw8NbmALHiezQ {
  TGenericSeq Sup;
  tyTuple__sPaDkVPSC0MkcoXCxPH9ccA data[SEQ_DECL_SIZE];
};
struct tySequence__uB9b75OUPRENsBAu4AnoePA {
  TGenericSeq Sup;
  tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA data[SEQ_DECL_SIZE];
};

/* section: NIM_merge_PROC_HEADERS */
N_LIB_PRIVATE N_NIMCALL(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*, parseXml__3j7lMJL9bKlK6pnzcVnsQ7A)(tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* s);
N_LIB_PRIVATE N_NIMCALL(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*, parseXml__lLIscO2CuprIuKERFeJFEQ)(tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* s, NimStringDesc* filename, tySequence__sM4lkSb7zS6F7OVMvW9cffQ** errors);
static N_INLINE(void, nimZeroMem)(void* p, NI size);
static N_INLINE(void, nimSetMem__zxfKBYntu9cBapkhrCOk1fgmemory)(void* a, int v, NI size);
N_LIB_PRIVATE N_NIMCALL(void, open__TFpkWrHVKR1HF0vBqWWVSQ)(tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g* my, tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* input, NimStringDesc* filename, tySet_tyEnum_XmlParseOption__VCopfBMD18d0QUQlFvdMUQ options);
N_LIB_PRIVATE N_NIMCALL(void, next__SMUG2u4S60Be9ashez9cd4QQ)(tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g* my);
static N_INLINE(tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ, kind__wGBjpI3XPLrW9cQAWrrIm1wparsexml)(tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g* my);
N_LIB_PRIVATE N_NIMCALL(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*, parse__9a9a8WxBDDcVd9aafi8ZwT43g)(tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g* x, tySequence__sM4lkSb7zS6F7OVMvW9cffQ** errors);
N_LIB_PRIVATE N_NIMCALL(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*, newComment__fVXKbnhNzNp9b9agYV9bTcbnw)(NimStringDesc* comment);
N_LIB_PRIVATE N_NIMCALL(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*, newText__rOUtNKhUmBcgHQCsK4WhEw)(NimStringDesc* text);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, errorMsg__R9bVnbXGYMaVBIxnO7upB6g)(tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g* my);
N_LIB_PRIVATE N_NIMCALL(TGenericSeq*, incrSeqV3)(TGenericSeq* s, TNimType* typ);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
N_LIB_PRIVATE N_NIMCALL(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*, newElement__Sxg4tI9bVbPjV9a4F9cRnqlWw)(NimStringDesc* tag);
N_LIB_PRIVATE N_NIMCALL(void, untilElementEnd__N4NZ4TgfmpNVYNu6rz6N3Q)(tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g* x, tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* result, tySequence__sM4lkSb7zS6F7OVMvW9cffQ** errors);
static N_INLINE(NimStringDesc*, tag__I0Wk5Fx2cIQmlClDCKj59agxmltree)(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* n);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b);
static N_INLINE(NIM_BOOL, equalMem__9bGgqEk7RXXl6eqM9c1HdELAsystem)(void* a, void* b, NI size);
static N_INLINE(int, nimCmpMem)(void* a, void* b, NI size);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, errorMsg__BWCxai4yNLca1JP9bQj43Ag)(tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g* my, NimStringDesc* msg);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
static N_INLINE(void, copyMem__i80o3k0SgEI5gTRCzYdyWAsystem)(void* dest, void* source, NI size);
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, rawNewString)(NI space);
N_LIB_PRIVATE N_NIMCALL(void, addNode__wJTo7w9a2hqVMvPFqm3k2rg)(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* father, tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* son);
static N_INLINE(void, add__h5EN37DzGwIRbfOtA8cy9agxmltree)(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* father, tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* son);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
static N_INLINE(void, attrseq___8FhIjKmAbbvDUX31xG3EsQxmltree)(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* n, tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg* attr);
N_LIB_PRIVATE N_NIMCALL(tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg*, nstnewStringTableWithTableConstr)(tyTuple__UV3llMMYFckfui8YMBuUZA* keyValuePairs, NI keyValuePairsLen_0, tyEnum_StringTableMode__G9c4wVDFIzf0xHmQvxso9a9cQ mode);
N_LIB_PRIVATE N_NIMCALL(void, nstPut)(tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg* t, NimStringDesc* key, NimStringDesc* val);
static N_INLINE(tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg*, attrs__LYDf19bKsKASF4QGUwmglxQxmltree)(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* n);
N_LIB_PRIVATE N_NIMCALL(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*, newCData__PLqWE9bsPdmSMjx89co9cz9bPg)(NimStringDesc* cdata);
N_LIB_PRIVATE N_NIMCALL(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*, newEntity__An3qYT4k9a0yVFa3bkuG3DQ)(NimStringDesc* entity);
static N_INLINE(void, close__gc4tyCc5DfyGvY0AdB9bDnQparsexml)(tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g* my);
N_LIB_PRIVATE N_NIMCALL(void, close__m9bpQUVeRkyuyv4zAGVgY9bw_3)(tyObject_BaseLexer__MAw8rJZtJ279bVV3TWMtXSg* L);
N_LIB_PRIVATE N_NIMCALL(void, raiseInvalidXml__ebIwF66ZrXcidFZaMsNOKg)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ* errors);
N_LIB_PRIVATE N_NIMCALL(void, nimGCvisit)(void* d, NI op);
static N_NIMCALL(void, Marker_tyRef__QPCTZQd9afpIInA6WMLBn2w)(void* p, NI op);
N_LIB_PRIVATE N_NIMCALL(void*, newObj)(TNimType* typ, NI size);
N_LIB_PRIVATE N_NIMCALL(void, genericSeqAssign)(void* dest, void* src, TNimType* mt);
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionEx)(Exception* e, NCSTRING ename, NCSTRING procname, NCSTRING filename, NI line);
N_LIB_PRIVATE N_NIMCALL(tyObject_StringStreamObj__Olau5FPRehZBBEB77FHnfw*, newStringStream__9aLRtgEYeRMrZKrObtoOslQ)(NimStringDesc* s);

/* section: NIM_merge_DATA */
extern TNimType NTI__VUwAch81P9c4ST1PUfTYo0g_;
extern TNimType NTI__sM4lkSb7zS6F7OVMvW9cffQ_;
STRING_LITERAL(TM__u0mC1ER8iy09bE9aXHBhXAXw_2, "</", 2);
STRING_LITERAL(TM__u0mC1ER8iy09bE9aXHBhXAXw_3, "> expected", 10);
extern TNimType NTI__AjV3cEUgs0Y9c7dCt9aItdIA_;
STRING_LITERAL(TM__u0mC1ER8iy09bE9aXHBhXAXw_4, "unexpected ending tag: ", 23);
STRING_LITERAL(TM__u0mC1ER8iy09bE9aXHBhXAXw_5, "\'>\' expected", 12);
STRING_LITERAL(TM__u0mC1ER8iy09bE9aXHBhXAXw_6, "<some_tag> expected", 19);
STRING_LITERAL(TM__u0mC1ER8iy09bE9aXHBhXAXw_7, "unknown_xml_doc", 15);
extern TNimType NTI__yoNlBGx0D2tRizIdhQuENw_;
N_LIB_PRIVATE TNimType NTI__XL8Y9cNRYITtmf9aQI19aEeDQ_;
N_LIB_PRIVATE TNimType NTI__QPCTZQd9afpIInA6WMLBn2w_;

/* section: NIM_merge_VARS */
extern NIM_BOOL nimInErrorMode__759bT87luu8XGcbkw13FUjA;

/* section: NIM_merge_PROCS */
static N_INLINE(void, nimSetMem__zxfKBYntu9cBapkhrCOk1fgmemory)(void* a, int v, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a, v, ((size_t) (size)));
}
static N_INLINE(void, nimZeroMem)(void* p, NI size) {
	nimSetMem__zxfKBYntu9cBapkhrCOk1fgmemory(p, ((int) 0), size);
}
static N_INLINE(tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ, kind__wGBjpI3XPLrW9cQAWrrIm1wparsexml)(tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g* my) {
	tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ result;
{	result = (tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ)0;
	result = (*my).kind;
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NimStringDesc*, tag__I0Wk5Fx2cIQmlClDCKj59agxmltree)(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* n) {
	NimStringDesc* result;
	result = (NimStringDesc*)0;
	result = copyString((*n)._k_2.fTag);
	return result;
}
static N_INLINE(int, nimCmpMem)(void* a, void* b, NI size) {
	int result;
	result = (int)0;
	result = memcmp(a, b, ((size_t) (size)));
	return result;
}
static N_INLINE(NIM_BOOL, equalMem__9bGgqEk7RXXl6eqM9c1HdELAsystem)(void* a, void* b, NI size) {
	NIM_BOOL result;
	int T1_;
	result = (NIM_BOOL)0;
	T1_ = (int)0;
	T1_ = nimCmpMem(a, b, size);
	result = (T1_ == ((NI32) 0));
	return result;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b) {
	NIM_BOOL result;
	NI alen;
	NI blen;
{	result = (NIM_BOOL)0;
	alen = (a ? a->Sup.len : 0);
	blen = (b ? b->Sup.len : 0);
	{
		if (!(alen == blen)) goto LA3_;
		{
			if (!(alen == ((NI) 0))) goto LA7_;
			result = NIM_TRUE;
			goto BeforeRet_;
		}
		LA7_: ;
		result = equalMem__9bGgqEk7RXXl6eqM9c1HdELAsystem(((void*) ((&a->data[((NI) 0)]))), ((void*) ((&b->data[((NI) 0)]))), ((NI) (alen)));
		goto BeforeRet_;
	}
	LA3_: ;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest, source, ((size_t) (size)));
}
static N_INLINE(void, copyMem__i80o3k0SgEI5gTRCzYdyWAsystem)(void* dest, void* source, NI size) {
	nimCopyMem(dest, source, size);
}
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	{
		void* T5_;
		void* T6_;
		if (!!((src == NIM_NIL))) goto LA3_;
		T5_ = (void*)0;
		T5_ = ((void*) ((&(*dest).data[(*dest).Sup.len])));
		T6_ = (void*)0;
		T6_ = ((void*) ((*src).data));
		copyMem__i80o3k0SgEI5gTRCzYdyWAsystem(T5_, T6_, ((NI) ((NI)((*src).Sup.len + ((NI) 1)))));
		(*dest).Sup.len += (*src).Sup.len;
	}
	LA3_: ;
}
static N_INLINE(void, add__h5EN37DzGwIRbfOtA8cy9agxmltree)(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* father, tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* son) {
	NI T1_;
	(*father)._k_2.s = (tySequence__AjV3cEUgs0Y9c7dCt9aItdIA*) incrSeqV3((TGenericSeq*)((*father)._k_2.s), (&NTI__AjV3cEUgs0Y9c7dCt9aItdIA_));
	T1_ = (*father)._k_2.s->Sup.len++;
	(*father)._k_2.s->data[T1_] = son;
}
N_LIB_PRIVATE N_NIMCALL(void, addNode__wJTo7w9a2hqVMvPFqm3k2rg)(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* father, tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* son) {
	{
		if (!!((son == NIM_NIL))) goto LA3_;
		add__h5EN37DzGwIRbfOtA8cy9agxmltree(father, son);
	}
	LA3_: ;
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__759bT87luu8XGcbkw13FUjA);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, untilElementEnd__N4NZ4TgfmpNVYNu6rz6N3Q)(tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g* x, tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* result, tySequence__sM4lkSb7zS6F7OVMvW9cffQ** errors) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		while (1) {
			tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ T3_;
			T3_ = (tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ)0;
			T3_ = kind__wGBjpI3XPLrW9cQAWrrIm1wparsexml((&(*x)));
			switch (T3_) {
			case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 7):
			{
				{
					NimStringDesc* T7_;
					T7_ = (NimStringDesc*)0;
					T7_ = tag__I0Wk5Fx2cIQmlClDCKj59agxmltree(result);
					if (!eqStrings((*x).a, T7_)) goto LA8_;
					next__SMUG2u4S60Be9ashez9cd4QQ(x);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
				goto LA5_;
				LA8_: ;
				{
					NimStringDesc* T11_;
					NimStringDesc* T12_;
					NimStringDesc* T13_;
					NI T14_;
					T11_ = (NimStringDesc*)0;
					T12_ = (NimStringDesc*)0;
					T12_ = tag__I0Wk5Fx2cIQmlClDCKj59agxmltree(result);
					T11_ = rawNewString((T12_ ? T12_->Sup.len : 0) + 12);
appendString(T11_, ((NimStringDesc*) &TM__u0mC1ER8iy09bE9aXHBhXAXw_2));
appendString(T11_, T12_);
appendString(T11_, ((NimStringDesc*) &TM__u0mC1ER8iy09bE9aXHBhXAXw_3));
					T13_ = (NimStringDesc*)0;
					T13_ = errorMsg__BWCxai4yNLca1JP9bQj43Ag((&(*x)), T11_);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					(*errors) = (tySequence__sM4lkSb7zS6F7OVMvW9cffQ*) incrSeqV3((TGenericSeq*)((*errors)), (&NTI__sM4lkSb7zS6F7OVMvW9cffQ_));
					T14_ = (*errors)->Sup.len++;
					(*errors)->data[T14_] = copyString(T13_);
				}
				LA5_: ;
				goto LA1;
			}
			break;
			case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 1):
			{
				NimStringDesc* T16_;
				NimStringDesc* T17_;
				NimStringDesc* T18_;
				NI T19_;
				T16_ = (NimStringDesc*)0;
				T17_ = (NimStringDesc*)0;
				T17_ = tag__I0Wk5Fx2cIQmlClDCKj59agxmltree(result);
				T16_ = rawNewString((T17_ ? T17_->Sup.len : 0) + 12);
appendString(T16_, ((NimStringDesc*) &TM__u0mC1ER8iy09bE9aXHBhXAXw_2));
appendString(T16_, T17_);
appendString(T16_, ((NimStringDesc*) &TM__u0mC1ER8iy09bE9aXHBhXAXw_3));
				T18_ = (NimStringDesc*)0;
				T18_ = errorMsg__BWCxai4yNLca1JP9bQj43Ag((&(*x)), T16_);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				(*errors) = (tySequence__sM4lkSb7zS6F7OVMvW9cffQ*) incrSeqV3((TGenericSeq*)((*errors)), (&NTI__sM4lkSb7zS6F7OVMvW9cffQ_));
				T19_ = (*errors)->Sup.len++;
				(*errors)->data[T19_] = copyString(T18_);
				goto LA1;
			}
			break;
			default:
			{
				tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* T21_;
				T21_ = (tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*)0;
				T21_ = parse__9a9a8WxBDDcVd9aafi8ZwT43g(x, errors);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				addNode__wJTo7w9a2hqVMvPFqm3k2rg(result, T21_);
			}
			break;
			}
		}
	} LA1: ;
	}BeforeRet_: ;
}
static N_INLINE(void, attrseq___8FhIjKmAbbvDUX31xG3EsQxmltree)(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* n, tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg* attr) {
	(*n)._k_2.fAttr = attr;
}
static N_INLINE(tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg*, attrs__LYDf19bKsKASF4QGUwmglxQxmltree)(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* n) {
	tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg* result;
	result = (tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg*)0;
	result = (*n)._k_2.fAttr;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*, parse__9a9a8WxBDDcVd9aafi8ZwT43g)(tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g* x, tySequence__sM4lkSb7zS6F7OVMvW9cffQ** errors) {
	tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* result;
	tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*)0;
	T1_ = (tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ)0;
	T1_ = kind__wGBjpI3XPLrW9cQAWrrIm1wparsexml((&(*x)));
	switch (T1_) {
	case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 4):
	{
		result = newComment__fVXKbnhNzNp9b9agYV9bTcbnw((*x).a);
		next__SMUG2u4S60Be9ashez9cd4QQ(x);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 2):
	case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 3):
	{
		result = newText__rOUtNKhUmBcgHQCsK4WhEw((*x).a);
		next__SMUG2u4S60Be9ashez9cd4QQ(x);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 5):
	case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 13):
	{
		next__SMUG2u4S60Be9ashez9cd4QQ(x);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 0):
	{
		NimStringDesc* T6_;
		NI T7_;
		T6_ = (NimStringDesc*)0;
		T6_ = errorMsg__R9bVnbXGYMaVBIxnO7upB6g((&(*x)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		(*errors) = (tySequence__sM4lkSb7zS6F7OVMvW9cffQ*) incrSeqV3((TGenericSeq*)((*errors)), (&NTI__sM4lkSb7zS6F7OVMvW9cffQ_));
		T7_ = (*errors)->Sup.len++;
		(*errors)->data[T7_] = copyString(T6_);
		next__SMUG2u4S60Be9ashez9cd4QQ(x);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 6):
	{
		result = newElement__Sxg4tI9bVbPjV9a4F9cRnqlWw((*x).a);
		next__SMUG2u4S60Be9ashez9cd4QQ(x);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		untilElementEnd__N4NZ4TgfmpNVYNu6rz6N3Q(x, result, errors);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 7):
	{
		tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g T10_;
		NimStringDesc* T11_;
		NimStringDesc* T12_;
		NI T13_;
		nimZeroMem((void*)(&T10_), sizeof(tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g));
		T10_.Sup.Sup.m_type = (&NTI__VUwAch81P9c4ST1PUfTYo0g_);
		nimCopyMem((void*)(&T10_), (NIM_CONST void*)(&(*x)), sizeof(T10_));
		T11_ = (NimStringDesc*)0;
		T11_ = rawNewString(((*x).a ? (*x).a->Sup.len : 0) + 23);
appendString(T11_, ((NimStringDesc*) &TM__u0mC1ER8iy09bE9aXHBhXAXw_4));
appendString(T11_, (*x).a);
		T12_ = (NimStringDesc*)0;
		T12_ = errorMsg__BWCxai4yNLca1JP9bQj43Ag((&T10_), T11_);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		(*errors) = (tySequence__sM4lkSb7zS6F7OVMvW9cffQ*) incrSeqV3((TGenericSeq*)((*errors)), (&NTI__sM4lkSb7zS6F7OVMvW9cffQ_));
		T13_ = (*errors)->Sup.len++;
		(*errors)->data[T13_] = copyString(T12_);
	}
	break;
	case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 8):
	{
		tyArray__9cQD2Rag5wSTKjlY7q5DZNg T15_;
		tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg* T16_;
		result = newElement__Sxg4tI9bVbPjV9a4F9cRnqlWw((*x).a);
		next__SMUG2u4S60Be9ashez9cd4QQ(x);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimZeroMem((void*)T15_, sizeof(tyArray__9cQD2Rag5wSTKjlY7q5DZNg));
		T16_ = (tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg*)0;
		T16_ = nstnewStringTableWithTableConstr(T15_, 0, ((tyEnum_StringTableMode__G9c4wVDFIzf0xHmQvxso9a9cQ) 0));
		attrseq___8FhIjKmAbbvDUX31xG3EsQxmltree(result, T16_);
		{
			while (1) {
				tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ T19_;
				T19_ = (tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ)0;
				T19_ = kind__wGBjpI3XPLrW9cQAWrrIm1wparsexml((&(*x)));
				switch (T19_) {
				case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 9):
				{
					tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg* T21_;
					T21_ = (tyObject_StringTableObj__V5PVrt9bIxZEeV7lfvqqtNg*)0;
					T21_ = attrs__LYDf19bKsKASF4QGUwmglxQxmltree(result);
					nstPut(T21_, (*x).a, (*x).b);
					next__SMUG2u4S60Be9ashez9cd4QQ(x);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
				break;
				case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 10):
				{
					next__SMUG2u4S60Be9ashez9cd4QQ(x);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					goto LA17;
				}
				break;
				case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 0):
				{
					NimStringDesc* T24_;
					NI T25_;
					T24_ = (NimStringDesc*)0;
					T24_ = errorMsg__R9bVnbXGYMaVBIxnO7upB6g((&(*x)));
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					(*errors) = (tySequence__sM4lkSb7zS6F7OVMvW9cffQ*) incrSeqV3((TGenericSeq*)((*errors)), (&NTI__sM4lkSb7zS6F7OVMvW9cffQ_));
					T25_ = (*errors)->Sup.len++;
					(*errors)->data[T25_] = copyString(T24_);
					next__SMUG2u4S60Be9ashez9cd4QQ(x);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					goto LA17;
				}
				break;
				default:
				{
					NimStringDesc* T27_;
					NI T28_;
					T27_ = (NimStringDesc*)0;
					T27_ = errorMsg__BWCxai4yNLca1JP9bQj43Ag((&(*x)), ((NimStringDesc*) &TM__u0mC1ER8iy09bE9aXHBhXAXw_5));
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					(*errors) = (tySequence__sM4lkSb7zS6F7OVMvW9cffQ*) incrSeqV3((TGenericSeq*)((*errors)), (&NTI__sM4lkSb7zS6F7OVMvW9cffQ_));
					T28_ = (*errors)->Sup.len++;
					(*errors)->data[T28_] = copyString(T27_);
					next__SMUG2u4S60Be9ashez9cd4QQ(x);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					goto LA17;
				}
				break;
				}
			}
		} LA17: ;
		untilElementEnd__N4NZ4TgfmpNVYNu6rz6N3Q(x, result, errors);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 9):
	case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 10):
	{
		NimStringDesc* T30_;
		NI T31_;
		T30_ = (NimStringDesc*)0;
		T30_ = errorMsg__BWCxai4yNLca1JP9bQj43Ag((&(*x)), ((NimStringDesc*) &TM__u0mC1ER8iy09bE9aXHBhXAXw_6));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		(*errors) = (tySequence__sM4lkSb7zS6F7OVMvW9cffQ*) incrSeqV3((TGenericSeq*)((*errors)), (&NTI__sM4lkSb7zS6F7OVMvW9cffQ_));
		T31_ = (*errors)->Sup.len++;
		(*errors)->data[T31_] = copyString(T30_);
		next__SMUG2u4S60Be9ashez9cd4QQ(x);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 11):
	{
		result = newCData__PLqWE9bsPdmSMjx89co9cz9bPg((*x).a);
		next__SMUG2u4S60Be9ashez9cd4QQ(x);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 12):
	{
		result = newEntity__An3qYT4k9a0yVFa3bkuG3DQ((*x).a);
		next__SMUG2u4S60Be9ashez9cd4QQ(x);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 1):
	{
	}
	break;
	}
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, close__gc4tyCc5DfyGvY0AdB9bDnQparsexml)(tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g* my) {
	tyObject_BaseLexer__MAw8rJZtJ279bVV3TWMtXSg* T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	T1_ = (tyObject_BaseLexer__MAw8rJZtJ279bVV3TWMtXSg*)0;
	T1_ = &my->Sup;
	close__m9bpQUVeRkyuyv4zAGVgY9bw_3(T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*, parseXml__lLIscO2CuprIuKERFeJFEQ)(tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* s, NimStringDesc* filename, tySequence__sM4lkSb7zS6F7OVMvW9cffQ** errors) {
	tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* result;
	tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g x;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*)0;
	nimZeroMem((void*)(&x), sizeof(tyObject_XmlParser__VUwAch81P9c4ST1PUfTYo0g));
	x.Sup.Sup.m_type = (&NTI__VUwAch81P9c4ST1PUfTYo0g_);
	open__TFpkWrHVKR1HF0vBqWWVSQ((&x), s, filename, 2);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		while (1) {
			tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ T3_;
			next__SMUG2u4S60Be9ashez9cd4QQ((&x));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			T3_ = (tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ)0;
			T3_ = kind__wGBjpI3XPLrW9cQAWrrIm1wparsexml((&x));
			switch (T3_) {
			case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 8):
			case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 6):
			{
				result = parse__9a9a8WxBDDcVd9aafi8ZwT43g((&x), errors);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				goto LA1;
			}
			break;
			case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 4):
			case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 3):
			case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 13):
			case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 5):
			{
			}
			break;
			case ((tyEnum_XmlEventKind__Qknhzh4VTsYTMpU18vpBLQ) 0):
			{
				NimStringDesc* T7_;
				NI T8_;
				T7_ = (NimStringDesc*)0;
				T7_ = errorMsg__R9bVnbXGYMaVBIxnO7upB6g((&x));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				(*errors) = (tySequence__sM4lkSb7zS6F7OVMvW9cffQ*) incrSeqV3((TGenericSeq*)((*errors)), (&NTI__sM4lkSb7zS6F7OVMvW9cffQ_));
				T8_ = (*errors)->Sup.len++;
				(*errors)->data[T8_] = copyString(T7_);
			}
			break;
			default:
			{
				NimStringDesc* T10_;
				NI T11_;
				T10_ = (NimStringDesc*)0;
				T10_ = errorMsg__BWCxai4yNLca1JP9bQj43Ag((&x), ((NimStringDesc*) &TM__u0mC1ER8iy09bE9aXHBhXAXw_6));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				(*errors) = (tySequence__sM4lkSb7zS6F7OVMvW9cffQ*) incrSeqV3((TGenericSeq*)((*errors)), (&NTI__sM4lkSb7zS6F7OVMvW9cffQ_));
				T11_ = (*errors)->Sup.len++;
				(*errors)->data[T11_] = copyString(T10_);
				goto LA1;
			}
			break;
			}
		}
	} LA1: ;
	close__gc4tyCc5DfyGvY0AdB9bDnQparsexml((&x));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_NIMCALL(void, Marker_tyRef__QPCTZQd9afpIInA6WMLBn2w)(void* p, NI op) {
	tyObject_XmlError__XL8Y9cNRYITtmf9aQI19aEeDQ* a;
	a = (tyObject_XmlError__XL8Y9cNRYITtmf9aQI19aEeDQ*)p;
	nimGCvisit((void*)(*a).Sup.Sup.Sup.parent, op);
	nimGCvisit((void*)(*a).Sup.Sup.Sup.message, op);
	nimGCvisit((void*)(*a).Sup.Sup.Sup.trace, op);
	nimGCvisit((void*)(*a).Sup.Sup.Sup.up, op);
	nimGCvisit((void*)(*a).errors, op);
}
N_LIB_PRIVATE N_NIMCALL(void, raiseInvalidXml__ebIwF66ZrXcidFZaMsNOKg)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ* errors) {
	tyObject_XmlError__XL8Y9cNRYITtmf9aQI19aEeDQ* e;
{	e = (tyObject_XmlError__XL8Y9cNRYITtmf9aQI19aEeDQ*)0;
	e = (tyObject_XmlError__XL8Y9cNRYITtmf9aQI19aEeDQ*) newObj((&NTI__QPCTZQd9afpIInA6WMLBn2w_), sizeof(tyObject_XmlError__XL8Y9cNRYITtmf9aQI19aEeDQ));
	(*e).Sup.Sup.Sup.Sup.m_type = (&NTI__XL8Y9cNRYITtmf9aQI19aEeDQ_);
	(*e).Sup.Sup.Sup.name = "XmlError";
	(*e).Sup.Sup.Sup.message = copyString(errors->data[((NI) 0)]);
	genericSeqAssign((&(*e).errors), errors, (&NTI__sM4lkSb7zS6F7OVMvW9cffQ_));
	raiseExceptionEx((Exception*)e, "XmlError", "raiseInvalidXml", "xmlparser.nim", 24);
	goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*, parseXml__3j7lMJL9bKlK6pnzcVnsQ7A)(tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* s) {
	tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* result;
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ* errors;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*)0;
	errors = NIM_NIL;
	result = parseXml__lLIscO2CuprIuKERFeJFEQ(s, ((NimStringDesc*) &TM__u0mC1ER8iy09bE9aXHBhXAXw_7), (&errors));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NI T3_;
		T3_ = (errors ? errors->Sup.len : 0);
		if (!(((NI) 0) < T3_)) goto LA4_;
		raiseInvalidXml__ebIwF66ZrXcidFZaMsNOKg(errors);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA4_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*, parseXml__3E6r6GbOr51mkddWM9aMLOg)(NimStringDesc* str) {
	tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ* result;
	tyObject_StringStreamObj__Olau5FPRehZBBEB77FHnfw* T1_;
	tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ* T2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (tyObject_XmlNodeObj__X79bE2j9a1V7tizbx9blALudQ*)0;
	T1_ = (tyObject_StringStreamObj__Olau5FPRehZBBEB77FHnfw*)0;
	T1_ = newStringStream__9aLRtgEYeRMrZKrObtoOslQ(str);
	T2_ = (tyObject_StreamObj__THYguAi9bSgidczZ3ywEIMQ*)0;
	T2_ = &T1_->Sup;
	result = parseXml__3j7lMJL9bKlK6pnzcVnsQ7A(T2_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, stdlib_xmlparserDatInit000)(void) {

/* section: NIM_merge_TYPE_INIT1 */
static TNimNode TM__u0mC1ER8iy09bE9aXHBhXAXw_0[1];

/* section: NIM_merge_TYPE_INIT3 */
NTI__XL8Y9cNRYITtmf9aQI19aEeDQ_.size = sizeof(tyObject_XmlError__XL8Y9cNRYITtmf9aQI19aEeDQ);
NTI__XL8Y9cNRYITtmf9aQI19aEeDQ_.align = NIM_ALIGNOF(tyObject_XmlError__XL8Y9cNRYITtmf9aQI19aEeDQ);
NTI__XL8Y9cNRYITtmf9aQI19aEeDQ_.kind = 17;
NTI__XL8Y9cNRYITtmf9aQI19aEeDQ_.base = (&NTI__yoNlBGx0D2tRizIdhQuENw_);
TM__u0mC1ER8iy09bE9aXHBhXAXw_0[0].kind = 1;
TM__u0mC1ER8iy09bE9aXHBhXAXw_0[0].offset = offsetof(tyObject_XmlError__XL8Y9cNRYITtmf9aQI19aEeDQ, errors);
TM__u0mC1ER8iy09bE9aXHBhXAXw_0[0].typ = (&NTI__sM4lkSb7zS6F7OVMvW9cffQ_);
TM__u0mC1ER8iy09bE9aXHBhXAXw_0[0].name = "errors";
NTI__XL8Y9cNRYITtmf9aQI19aEeDQ_.node = &TM__u0mC1ER8iy09bE9aXHBhXAXw_0[0];
NTI__QPCTZQd9afpIInA6WMLBn2w_.size = sizeof(tyObject_XmlError__XL8Y9cNRYITtmf9aQI19aEeDQ*);
NTI__QPCTZQd9afpIInA6WMLBn2w_.align = NIM_ALIGNOF(tyObject_XmlError__XL8Y9cNRYITtmf9aQI19aEeDQ*);
NTI__QPCTZQd9afpIInA6WMLBn2w_.kind = 22;
NTI__QPCTZQd9afpIInA6WMLBn2w_.base = (&NTI__XL8Y9cNRYITtmf9aQI19aEeDQ_);
NTI__QPCTZQd9afpIInA6WMLBn2w_.marker = Marker_tyRef__QPCTZQd9afpIInA6WMLBn2w;
}

